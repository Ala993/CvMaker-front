<div class="d-flex justify-content-center mt-4">
  <button class="btn btn-primary" (click)="downloadAsPDF()">Télécharger</button>
</div>

<div *ngIf="cv?.collaborator" class="mt-3" style="overflow: hidden;">


  <div id="pdfTable" #pdfTable>
    <div>
      <div class="d-flex " style="min-height: 840px;">
        <div style="background-color: #3f51b5; color: white; max-width: 200px;">
          <div class="d-flex justify-content-center">
            <img *ngIf="cv.image && !url" [src]="loadedImage" alt="" class="mt-4 mb-4"
              style="border-radius: 200px;height: 130px; width: 130px;">
          </div>
          <div class="container">
            <p class="mb-3">{{cv.address}}</p>
            <p class="mb-3">{{cv.email}}</p>
            <p class="mb-3">{{cv.phoneNumber}}</p>
          </div>

          <div class="container" style="margin-top: 20px;">
            <div class="mb-3 mt-4">
              <strong>Compétences :</strong>
            </div>

            <div *ngFor="let skill of cv.skills ">
              <div class="d-flex align-items-center mt-1">
                <p>{{skill.name}} : </p>
                <p class="ml-2">{{skill.level }}</p>
              </div>
            </div>
          </div>


        </div>
        <div class="col-5 mt-5"  style="max-width: 400px;">
          <h1 style="color:#3f51b5;"><strong class="mr-2">{{cv.collaborator.user.firstName}}</strong>
            <strong>{{cv.collaborator.user.lastName}}</strong>
          </h1>
          <div class="mt-2">
            <p>{{cv.title}}</p>
          </div>

          <div class="mt-4">
            <h1><strong class="mr-2" style="color: #3f51b5; ">Expérience </strong> <strong style="color: #3f51b5; ">
                professionnelle</strong></h1>
            <div *ngFor="let experience of cv.experiences ">
              <p style="font-weight: bold; font-size: medium;">{{experience.position}}</p>
              <div class="d-flex">
                <p>{{experience.company }}</p>
                <p class="ml-2 mr-2">|</p>
                <p>{{experience.startDate | date :'MMMM y'}}</p>
                <p class="ml-2 mr-2">-</p>
                <p>{{experience.endDate | date :'MMMM y'}}</p>
              </div>
              <div class="d-flex">
                <p>{{experience.description }}</p>

              </div>
            </div>
          </div>


          <div class="mt-4">
            <h1><strong class="mr-2" style="color: #3f51b5; ">Formation</strong></h1>
            <div *ngFor="let study of cv.studies ">
              <div class="d-flex">
                <p style="font-weight: bold; font-size: medium;">{{study.establishment}}</p>
                <p class="ml-2 mr-2">-</p>
                <p>{{study.location }}</p>
              </div>
              <div class="d-flex">
                <p>{{study.title }}</p>
                <p class="ml-2 mr-2">|</p>
                <p>{{study.startDate | date :'MMMM y'}}</p>
                <p class="ml-2 mr-2">-</p>
                <p>{{study.endDate | date :'MMMM y'}}</p>
              </div>

            </div>
          </div>

        </div>
      </div>






    </div>
  </div>
</div>